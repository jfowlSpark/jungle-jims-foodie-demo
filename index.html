<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Jungle Jim's International Foodie Adventure</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            fancy: ['Quicksand', 'sans-serif']
          },
          colors: {
            jungleGreen: '#1B8A5A',
            jungleGold: '#F3C969',
            jungleRed: '#E94F37',
            jungleCream: '#FAF4E6',
          },
          animation: {
            fadeIn: "fadeIn 0.45s ease-out",
            slideIn: "slideIn 0.4s ease-out",
            popIn: "popIn 0.45s ease-out",
          }
        }
      }
    }
  </script>

  <link rel="stylesheet" href="styles.css" />

  <style>
    body { font-family: 'Quicksand', sans-serif; }
  </style>
</head>

<!-- NOTE: no overflow-hidden, so it can scroll -->
<body class="min-h-screen relative bg-gradient-to-br from-jungleGreen via-jungleCream to-jungleGold">

  <!-- Vines -->
  <img src="img/vines_top_left.png" class="absolute top-0 left-0 w-32 opacity-60 pointer-events-none">
  <img src="img/vines_top_right.png" class="absolute top-0 right-0 w-32 opacity-60 pointer-events-none">

  <!-- Replay Audio Button -->
  <button id="replayBtn"
    class="hidden fixed bottom-6 right-6 w-14 h-14 bg-white/90 border-2 border-jungleGreen rounded-full shadow-xl 
           flex items-center justify-center text-jungleGreen text-2xl active:scale-90 transition z-50">
    üîä
  </button>

  <!-- MAIN CONTENT -->
  <div id="main" class="w-full max-w-md mx-auto pt-20 pb-10 px-4"></div>

  <!-- AUDIO -->
  <audio id="audioWelcome"  src="audio/chef1_welcome.mp3"></audio>
  <audio id="audioCuisine"  src="audio/chef2_cuisine.mp3"></audio>
  <audio id="audioAllergy"  src="audio/chef3_allergies.mp3"></audio>

  <script>
    let currentScreen = "splash"; // splash, welcome, cuisine, allergy
    let currentAudio  = null;

    const main      = document.getElementById("main");
    const replayBtn = document.getElementById("replayBtn");

    function playAudio(el) {
      if (!el) return;
      if (currentAudio && !currentAudio.paused) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
      }
      currentAudio = el;
      currentAudio.currentTime = 0;
      currentAudio.play().catch(() => {});
      replayBtn.classList.remove("hidden");
    }

    replayBtn.addEventListener("click", () => {
      if (currentAudio) {
        currentAudio.currentTime = 0;
        currentAudio.play().catch(() => {});
      }
    });

    /* ------------- SCREENS ------------- */

    function renderSplash() {
      currentScreen = "splash";
      // no audio on splash
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        currentAudio = null;
      }
      replayBtn.classList.add("hidden");

      main.innerHTML = `
        <div class="bg-white/90 rounded-3xl shadow-2xl p-8 text-center animate-fadeIn">
          <img src="img/chefRossi.png"
               class="w-32 h-32 mx-auto rounded-full shadow-xl ring-4 ring-white mb-6 animate-popIn">

          <h1 class="text-3xl font-extrabold text-jungleRed drop-shadow mb-3">
            Jungle Jim's<br>International Foodie Adventure
          </h1>

          <p class="text-base text-gray-700 mb-6">
            Explore the store. Discover new flavors. Build a full recipe one ingredient at a time.
          </p>

          <button id="beginBtn"
            class="w-full bg-jungleGreen text-white text-lg font-semibold py-3 rounded-xl shadow-lg active:scale-95 transition">
            Begin Foodie Adventure
          </button>
        </div>
      `;

      document.getElementById("beginBtn").onclick = renderWelcome;
    }

    function renderWelcome() {
      currentScreen = "welcome";
      main.innerHTML = `
        <div class="bg-white/90 rounded-3xl shadow-2xl p-6 text-center animate-fadeIn">
          <img src="img/chefRossi.png"
               class="w-28 h-28 mx-auto rounded-full shadow-xl ring-4 ring-white mb-4 animate-popIn">

          <h2 class="text-2xl font-bold text-jungleRed mb-2">Welcome to the Adventure!</h2>

          <div class="bg-white/80 rounded-xl p-4 text-left shadow-md mt-3">
            <p class="text-gray-700 text-lg leading-relaxed">
              ‚ÄúCiao, my friend! I am <strong>Chef Rossi</strong>, your guide on this tasty quest 
              through Jungle Jim‚Äôs International Market. We‚Äôll explore the aisles together and 
              gather everything you need for a delicious Italian Pasta &amp; Spinach Bake!‚Äù
            </p>
          </div>

          <button id="nextCuisine"
            class="w-full bg-jungleGreen text-white text-lg font-semibold py-3 rounded-xl shadow mt-6 active:scale-95">
            Choose Your Cuisine
          </button>
        </div>
      `;

      document.getElementById("nextCuisine").onclick = renderCuisine;
      playAudio(document.getElementById("audioWelcome"));
    }

    function renderCuisine() {
      currentScreen = "cuisine";
      main.innerHTML = `
        <div class="bg-white/90 rounded-3xl shadow-2xl p-6 text-center animate-fadeIn">
          <img src="img/chefRossi.png"
               class="w-24 h-24 mx-auto rounded-full shadow-xl ring-4 ring-white mb-4 animate-popIn">

          <h2 class="text-2xl font-bold text-jungleRed mb-2">Choose Your Cuisine</h2>

          <div class="bg-white/80 rounded-xl p-4 text-left shadow-md mt-3">
            <p class="text-gray-700 text-lg leading-relaxed">
              ‚ÄúFirst question: <strong>Where in the world do you want to travel today?</strong>  
              We‚Äôll unlock more cuisines later, but for this demo, let‚Äôs take a tasty trip to Italy.‚Äù
            </p>
          </div>

          <div class="mt-5 space-y-3">
            <button
              class="w-full bg-jungleGreen text-white font-semibold rounded-lg py-3 shadow active:scale-95">
              Italian (Demo)
            </button>

            <button disabled
              class="w-full bg-gray-300 text-gray-500 rounded-lg py-3 opacity-50 cursor-not-allowed">
              Mexican (Coming Soon)
            </button>

            <button disabled
              class="w-full bg-gray-300 text-gray-500 rounded-lg py-3 opacity-50 cursor-not-allowed">
              Chinese (Coming Soon)
            </button>

            <button disabled
              class="w-full bg-gray-300 text-gray-500 rounded-lg py-3 opacity-50 cursor-not-allowed">
              Indian (Coming Soon)
            </button>
          </div>

          <button id="nextAllergy"
            class="w-full bg-white text-jungleGreen border border-jungleGreen text-lg font-semibold py-3 rounded-xl shadow mt-6 active:scale-95">
            Continue with Italian
          </button>
        </div>
      `;

      document.getElementById("nextAllergy").onclick = renderAllergy;
      playAudio(document.getElementById("audioCuisine"));
    }

    function renderAllergy() {
      currentScreen = "allergy";
      main.innerHTML = `
        <div class="bg-white/90 rounded-3xl shadow-2xl p-6 text-center animate-fadeIn">
          <img src="img/chefRossi.png"
               class="w-24 h-24 mx-auto rounded-full shadow-xl ring-4 ring-white mb-4 animate-popIn">

          <h2 class="text-2xl font-bold text-jungleRed mb-2">Any Allergies?</h2>

          <div class="bg-white/80 rounded-xl p-4 text-left shadow-md mt-3">
            <p class="text-gray-700 text-lg leading-relaxed">
              ‚ÄúBefore we start hunting, tell me about any <strong>food allergies</strong>.  
              In the full version, I‚Äôll adjust your recipe and clues based on what you select.  
              For this demo, tap <strong>I do not have any allergies</strong>.‚Äù
            </p>
          </div>

          <div class="mt-5 space-y-3">
            <button
              class="w-full bg-gray-200 text-gray-500 rounded-lg py-3 cursor-not-allowed">
              Dairy
            </button>
            <button
              class="w-full bg-gray-200 text-gray-500 rounded-lg py-3 cursor-not-allowed">
              Gluten
            </button>
            <button
              class="w-full bg-gray-200 text-gray-500 rounded-lg py-3 cursor-not-allowed">
              Nuts
            </button>
          </div>

          <button id="startHunt"
            class="w-full bg-jungleGreen text-white text-lg font-semibold py-3 rounded-xl shadow mt-6 active:scale-95">
            I do not have any allergies
          </button>
        </div>
      `;

      document.getElementById("startHunt").onclick = () => {
        window.location.href = "hunt.html";
      };

      playAudio(document.getElementById("audioAllergy"));
    }

    // Start at splash
    renderSplash();
  </script>

</body>
</html>
